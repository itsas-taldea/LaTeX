% Copyright 2007 by Till Tantau
% Modified by Digna Gonz\'alez.
% This file may be distributed and/or modified
%
% 1. under the LaTeX Project Public License and/or
% 2. under the GNU Public License.
%
% See the file doc/licenses/LICENSE for more details.

\ProvidesPackageRCS $Header: /cvsroot/latex-beamer/latex-beamer/themes/inner/beamerinnerthemesquareDig.sty,v 1.5 2007/01/28 20:48:30 tantau Exp $

% Use alternative title page style.
\DeclareOptionBeamer{alternativetitlepage}[true]{\def\beamer@squareDig@alternativetitlepage{#1}}
\DeclareOptionBeamer{shadow}[false]{\def\beamer@themesquareDig@shadow{#1}}
\def\beamer@squareDig@titlepagelogo{}
\DeclareOptionBeamer{titlepagelogo}{\def\beamer@squareDig@titlepagelogo{#1}}
\ExecuteOptionsBeamer{alternativetitlepage=true,shadow=true}
\ProcessOptionsBeamer



% Colors.
\setbeamercolor*{lineup}{parent=palette primary}
\setbeamercolor*{linemid}{parent=palette secondary}
\setbeamercolor*{linebottom}{parent=palette tertiary}
\setbeamercolor*{title page header}{parent=palette quaternary}

% Lengths.
\newlength{\beamer@squareDig@lineup}
\setlength{\beamer@squareDig@lineup}{.025\paperheight}
\newlength{\beamer@squareDig@linemid}
\setlength{\beamer@squareDig@linemid}{.015\paperheight}
\newlength{\beamer@squareDig@linebottom}
\setlength{\beamer@squareDig@linebottom}{.01\paperheight}

\mode<presentation>

\setbeamertemplate{blocks}[shadow=\beamer@themesquareDig@shadow]
\setbeamertemplate{items}[square]
\setbeamertemplate{sections/subsections in toc}[square]
\setbeamertemplate{title page}[default][colsep=-4bp,rounded=true,shadow=\beamer@themesquareDig@shadow]
\setbeamertemplate{part page}[default][colsep=-4bp,rounded=true,shadow=\beamer@themesquareDig@shadow]
  


% Normal title page.
\defbeamertemplate*{title page normal}{squareDig theme}[1][]
{
  \vbox{}
  \vfill
  \begin{centering}
    \begin{beamercolorbox}[wd=\paperwidth,sep=8pt,center,#1]{title page header}
      \usebeamerfont{title}\inserttitle\par%
      \ifx\insertsubtitle\@empty%
      \else%
        \vskip0.25em%
        {\usebeamerfont{subtitle}\usebeamercolor[fg]{subtitle}\insertsubtitle\par}%
      \fi%     
    \end{beamercolorbox}%
    \vskip1em\par
    \begin{beamercolorbox}[sep=8pt,center,#1]{author}
      \usebeamerfont{author}\insertauthor
    \end{beamercolorbox}
    \begin{beamercolorbox}[sep=8pt,center,#1]{institute}
      \usebeamerfont{institute}\insertinstitute
    \end{beamercolorbox}
    \begin{beamercolorbox}[sep=8pt,center,#1]{date}
      \usebeamerfont{date}\insertdate
    \end{beamercolorbox}\vskip0.5em
    {\usebeamercolor[fg]{titlegraphic}\inserttitlegraphic\par}
  \end{centering}
  \vfill
}

\defbeamertemplate*{title page alternative}{squareDig theme}[1][]
{
  {\parskip0pt\offinterlineskip%
  \hbox{\hskip-\Gm@lmargin\hbox{\vbox{%
  \@tempdima=\textwidth\textwidth=\paperwidth\hsize=\textwidth\def\\{,}\vbox{}\vskip-1.5ex%
    % Title.
    \begin{beamercolorbox}[wd=\paperwidth,ht=.4\paperheight,center,#1]{title page header}
      \usebeamerfont{title}\inserttitle\par%
      \ifx\insertsubtitle\@empty%
      \else%
        \vskip0.25em%
        {\usebeamerfont{subtitle}\usebeamercolor[fg]{subtitle}\insertsubtitle\par}%
      \fi%     
      \vspace{.125\paperheight}%
    \end{beamercolorbox}%
    \vbox{}\vskip-\beamer@squareDig@lineup%
    \vbox{}\vskip-\beamer@squareDig@linemid%
    % First line.
    \hbox{%
    \begin{beamercolorbox}[wd=.2\paperwidth,ht=\beamer@squareDig@lineup,dp=0pt]{}%
    \end{beamercolorbox}%
    \begin{beamercolorbox}[wd=.8\paperwidth,ht=\beamer@squareDig@lineup,dp=0pt]{lineup}%
    \end{beamercolorbox}%
    }%
    \vbox{}\vskip0ex%
    % Second line.
    \hbox{%
    \begin{beamercolorbox}[wd=.1\paperwidth,ht=\beamer@squareDig@linemid,dp=0pt]{}%
    \end{beamercolorbox}%
    \begin{beamercolorbox}[wd=.9\paperwidth,ht=\beamer@squareDig@linemid,dp=0pt]{linemid}%
    \end{beamercolorbox}%
    }%
    % Third line.
    \hbox{%
    \begin{beamercolorbox}[wd=.5\paperwidth,ht=\beamer@squareDig@linebottom,dp=0pt]{}%
    \end{beamercolorbox}%
    \begin{beamercolorbox}[wd=.5\paperwidth,ht=\beamer@squareDig@linebottom,dp=0pt]{linebottom}%
    \end{beamercolorbox}%
    }%
    \vskip0pt%
  }}%
  \hskip-\Gm@rmargin%
  }}\hfil%
  %
  \begin{columns}
      \ifx\beamer@squareDig@titlepagelogo\@empty%
          \column{\textwidth}
      \else
          \column{.2\textwidth}
              % Logo.
              \begin{centering}
                  \vbox{}\vfill
                  \includegraphics[height=.15\paperheight]{\beamer@squareDig@titlepagelogo}
                  \vfill
              \end{centering}
          \column{.7\textwidth}
       \fi
          % Authors, institute and date
          \vskip1em\par
          \begin{beamercolorbox}[sep=8pt,center,#1]{author}
            \usebeamerfont{author}\insertauthor
          \end{beamercolorbox}
          \begin{beamercolorbox}[sep=8pt,center,#1]{institute}
            \usebeamerfont{institute}\insertinstitute
          \end{beamercolorbox}
          \begin{beamercolorbox}[sep=8pt,center,#1]{date}
            \usebeamerfont{date}\insertdate
          \end{beamercolorbox}\vskip0.5em
          {\usebeamercolor[fg]{titlegraphic}\inserttitlegraphic\par}
  \end{columns}
}

\defbeamertemplate*{title page}{squareDig}[1][]
{
  \def\beamer@squareDig@truetext{true}%
  \ifx\beamer@squareDig@alternativetitlepage\beamer@squareDig@truetext%
    \usebeamertemplate{title page alternative}%
  \else%
    \usebeamertemplate{title page normal}%
  \fi%
}

\mode<all>
%%% Local Variables: 
%%% TeX-master: "~/texmf/tex/latex/beamer/test/test.tex"
%%% End: 
